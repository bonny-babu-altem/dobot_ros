<?xml version="1.0"?>
<robot name="cr5_robot"
    xmlns:xacro="http://ros.org/xacro">

    <!-- Include common utility macros -->
    <xacro:include filename="$(find cr5_description)/urdf/utils.xacro" />

    <!-- Define common properties -->
    <xacro:property name="mesh_path" value="package://cr5_description/meshes" />
    <xacro:property name="default_material_rgba" value="1 1 1 1" />
    <xacro:property name="black_material_rgba" value="0 0 0 1" />

    <!-- Dummy link -->
    <link name="dummy_link" />

    <!-- Base link -->
    <link name="base_link">
        <xacro:default_inertial xyz="-8.0961E-06 0.0019103 0.028995" rpy="0 0 0" mass="0.90882" ixx="0.0014545" ixy="4.2968E-08" ixz="-1.8199E-07" iyy="0.001345" iyz="-6.243E-06" izz="0.002155" />
        <xacro:default_visual mesh_filename="${mesh_path}/base_link.dae" material_rgba="${black_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/base_link.dae" />
    </link>

    <joint name="dummy_joint" type="fixed">
        <parent link="dummy_link" />
        <child link="base_link" />
    </joint>

    <!-- Link1 -->
    <link name="Link1">
        <xacro:default_inertial xyz="-8.7268E-07 -0.0032576 -0.0076748" rpy="0 0 0" mass="1.6123" ixx="0.0029122" ixy="5.7387E-09" ixz="1.9945E-08" iyy="0.0028191" iyz="0.00044094" izz="0.0032836" />
        <xacro:default_visual mesh_filename="${mesh_path}/Link1.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/Link1.dae" />
    </link>

    <joint name="joint_1" type="revolute">
        <origin xyz="0 0 0.147" rpy="0 0 0" />
        <parent link="base_link" />
        <child link="Link1" />
        <axis xyz="0 0 1" />
        <limit lower="-3.14" upper="3.14" effort="0" velocity="0" />
    </joint>

    <!-- Link2 -->
    <link name="Link2">
        <xacro:default_inertial xyz="-0.21351 -1.3842E-06 0.14252" rpy="0 0 0" mass="5.5186" ixx="0.0085919" ixy="7.5552E-07" ixz="-7.8922E-07" iyy="0.027553" iyz="1.4629E-07" izz="0.028294" />
        <xacro:default_visual mesh_filename="${mesh_path}/Link2.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/Link2.dae" />
    </link>

    <joint name="joint_2" type="revolute">
        <origin xyz="0 0 0" rpy="1.5708 1.5708 0" />
        <parent link="Link1" />
        <child link="Link2" />
        <axis xyz="0 0 1" />
        <limit lower="-3.14" upper="3.14" effort="0" velocity="0" />
    </joint>

    <!-- Link3 -->
    <link name="Link3">
        <xacro:default_inertial xyz="-0.15231 -1.4079E-07 0.022693" rpy="0 0 0" mass="2.8536" ixx="0.0032608" ixy="-3.2147E-10" ixz="0.00012363" iyy="0.0092967" iyz="2.9478E-10" izz="0.0095552" />
        <xacro:default_visual mesh_filename="${mesh_path}/Link3.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/Link3.dae" />
    </link>

    <joint name="joint_3" type="revolute">
        <origin xyz="-0.427 0 0" rpy="0 0 0" />
        <parent link="Link2" />
        <child link="Link3" />
        <axis xyz="0 0 1" />
        <limit lower="-2.86" upper="2.86" effort="0" velocity="0" />
    </joint>

    <!-- Link4 -->
    <link name="Link4">
        <xacro:default_inertial xyz="-3.2386E-07 -0.002077 -0.0015548" rpy="0 0 0" mass="0.67058" ixx="0.00066939" ixy="4.1975E-10" ixz="-1.0734E-08" iyy="0.00065424" iyz="0.00011081" izz="0.00065365" />
        <xacro:default_visual mesh_filename="${mesh_path}/Link4.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/Link4.dae" />
    </link>

    <joint name="joint_4" type="revolute">
        <origin xyz="-0.357 0 0.141" rpy="0 0 -1.5708" />
        <parent link="Link3" />
        <child link="Link4" />
        <axis xyz="0 0 1" />
        <limit lower="-3.14" upper="3.14" effort="0" velocity="0" />
    </joint>

    <!-- Link5 -->
    <link name="Link5">
        <xacro:default_inertial xyz="-3.7738E-07 -0.0045777 -0.0012971" rpy="0 0 0" mass="0.7269" ixx="0.00073069" ixy="-5.7806E-09" ixz="6.7132E-09" iyy="0.00071195" iyz="-0.00011926" izz="0.00071391" />
        <xacro:default_visual mesh_filename="${mesh_path}/Link5.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/Link5.dae" />
    </link>

    <joint name="joint_5" type="revolute">
        <origin xyz="0 -0.116 0" rpy="1.5708 0 0" />
        <parent link="Link4" />
        <child link="Link5" />
        <axis xyz="0 0 1" />
        <limit lower="-3.14" upper="3.14" effort="0" velocity="0" />
    </joint>

    <!-- Link6 -->
    <link name="Link6">
        <xacro:default_inertial xyz="5.0777E-11 9.3774E-05 -0.019285" rpy="0 0 0" mass="0.15789" ixx="7.8045E-05" ixy="6.1582E-15" ixz="6.2471E-14" iyy="7.9168E-05" iyz="-1.3822E-07" izz="0.00012951" />
        <xacro:default_visual mesh_filename="${mesh_path}/Link6.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/Link6.dae" />
    </link>

    <joint name="joint_6" type="revolute">
        <origin xyz="0 0.105 0" rpy="-1.5708 0 0" />
        <parent link="Link5" />
        <child link="Link6" />
        <axis xyz="0 0 1" />
        <limit lower="-6.28" upper="6.28" effort="0" velocity="0" />
    </joint>

    <!-- GRIPPERS -->

    <!-- <link name="cr5_gripper_link">
        <xacro:default_visual mesh_filename="${mesh_path}/g_body.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/g_body.dae" />
    </link>

    <joint name="cr5_gripper_joint" type="fixed">
        <origin xyz="0 0 -0.002" rpy="0 0 0" />
        <parent link="Link6" />
        <child link="cr5_gripper_link" />
    </joint>

    <link name="cr5_gripper_left">
        <xacro:default_inertial xyz="5.0777E-11 9.3774E-05 -0.019285" rpy="0 0 0" mass="0.15789" ixx="7.8045E-05" ixy="6.1582E-15" ixz="6.2471E-14" iyy="7.9168E-05" iyz="-1.3822E-07" izz="0.00012951" />
        <xacro:default_visual mesh_filename="${mesh_path}/g_left.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/g_left.dae" />
    </link>

    <joint name="cr5_finger_joint_l" type="prismatic">
        <parent link="cr5_gripper_link" />
        <child link="cr5_gripper_left" />
        <origin rpy="0 0 0" xyz="0 0 0.1" />
        <axis xyz="1 0 0" />
        <limit effort="20" lower="0.0" upper="0.025" velocity="0.2" />
    </joint>

    <link name="cr5_gripper_right">
        <xacro:default_inertial xyz="5.0777E-11 9.3774E-05 -0.019285" rpy="0 0 0" mass="0.15789" ixx="7.8045E-05" ixy="6.1582E-15" ixz="6.2471E-14" iyy="7.9168E-05" iyz="-1.3822E-07" izz="0.00012951" />
        <xacro:default_visual mesh_filename="${mesh_path}/g_right.dae" material_rgba="${default_material_rgba}" />
        <xacro:default_collision mesh_filename="${mesh_path}/g_right.dae" />
    </link>

    <joint name="cr5_finger_joint_r" type="prismatic">
        <parent link="cr5_gripper_link" />
        <child link="cr5_gripper_right" />
        <origin rpy="0 0 0" xyz="0 0 0.1" />
        <axis xyz="-1 0 0" />
        <limit effort="20" lower="0.0" upper="0.025" velocity="0.2" />
    </joint> -->

</robot>
